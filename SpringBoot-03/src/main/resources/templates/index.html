<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>login</title>
    <!-- Bootstrap core CSS -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link th:href="@{/css/signin.css}" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script>
        $(function () {
            $("#vcodeImg").click(function () {
                $(this).prop("src", "/wyl/loginCpacha?t=" + new Date().getTime());     //为了避免浏览器的缓存机制，改变参数
            });
        });
    </script>
</head>

<body class="text-center">
<form class="form-signin" th:action="@{/user/login}" method="post">

    <img class="mb-4" th:src="@{/img/log2.jpg}" alt="" width="72" height="72">

    <h1 class="h3 mb-3 font-weight-normal">Log In</h1>

    <input type="text" class="form-control" name="username" th:placeholder="#{login.username}" required="" autofocus="">

    <input type="password" class="form-control" name="password" th:placeholder="#{login.password}" required="">

    <div style="float: left">
        <img id="vcodeImg" th:src="@{/loginCpacha}" width="100px">
    </div>

    <input type="text" class="form-control" name="vcode" th:placeholder="#{login.cpacha}"
           style=" width: 170px; height: 40px; margin-left:130px;  " required>

    <div class="checkbox mb-3" style="margin-top: 10px">
        <label>
            <input type="checkbox" value="remember-me">[[#{login.remember}]]
        </label>
    </div>

    <button class="btn btn-lg btn-primary btn-block" type="submit">[[#{login.submit}]]</button>

    <p class="mt-5 mb-3 " style="color: red">[[${msg}]]</p>

    <div class="bottom-text">
        <a class="btn btn-sm" th:href="@{/toRetrieve}">Retrieve password</a> <a class="btn btn-sm" th:href="@{/toRegister}">Sign up</a>
    </div>

    <p class="mt-5 mb-3 text-muted">© 2021-2022 design by wyl</p>

    <!--页面国际化-->
    <a class="btn btn-sm" th:href="@{/index(l='zh_CN')}">中文</a>
    <a class="btn btn-sm" th:href="@{/index(l='en_US')}">English</a>

</form>
</body>
</html>